%%% Exercise 1.2.7
\begin{exrc}[7]
    Suppose \(\set{a_n}_{n = 1}^N\) and \(\set{b_n}_{n = 1}^{N}\) are two finite
    sequences of complex numbers.
    Let \(B_k = \sum_{n = 1}^{k} b_n\) denote the partial sums of the series \(\sum_{}^{} b_n\)
    with the convention \(B_0 = 0\).
    \begin{enumerate}[(a)]
    \item
        Prove the \emph{summation by parts} formula
        \begin{equation*}
            \sum_{n = M}^{N} a_n b_n
            = a_N b_N - a_M B_{M - 1} - \sum_{n = M}^{N - 1} (a_{n + 1} - a_n) B_n.
        \end{equation*}
    \item
        Deduce from this formula Dirichlet's test for convergence of a series:
        if the partial sums of the series \(\sum_{}^{} b_n\) are bounded,
        and \(\set{a_n}\) is a sequence of real numbers that decreases monotonically to 0,
        the \(\sum_{}^{} a_n b_n\) converges.
    \end{enumerate}

\begin{soln}
    \begin{enumerate}[(a)]
    \item
        This follows immediately after noting that \(b_n = B_n - B_{n - 1}\).
    \item
        Suppose the partial sums \(B_n\) are bounded by \(B\).
        Let \(\epsilon > 0\) and choose \(N > M\) so large that \(a_M < \epsilon\).
        Then by part (a) and the triangle inequality,
        monotonicity, the telescoping sum, and again monotonicity, we see
        \begin{align*}
            \abs{\sum_{n = M}^{N} a_n b_n}
            & \leq a_N B + a_M B + B \sum_{n = M}^{N - 1} |a_n - a_{n + 1}| \\
            & = a_N B + a_M B + B \sum_{n = M}^{N - 1} a_n - a_{n + 1} \\
            & = a_N B + a_M B + B(a_M - a_N) \\
            & \leq 3B a_M \\
            & < 3B \epsilon.
        \end{align*}
        Convergence then follows by the Cauchy criterion (exercise 1.1.3).
    \end{enumerate}

\end{soln}
\end{exrc}
